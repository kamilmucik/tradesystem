ALTER SESSION SET NLS_TIMESTAMP_FORMAT = 'YYYY-MM-DD HH24:MI:SS.FF';
ALTER SESSION SET NLS_TIMESTAMP_TZ_FORMAT = 'YYYY-MM-DD HH24:MI:SS.FF';

-- CREATE OR REPLACE PROCEDURE DELETE_SEQUENCES AS BEGIN FOR i IN (SELECT us.sequence_name FROM USER_SEQUENCES us) LOOP EXECUTE IMMEDIATE 'drop sequence '|| i.sequence_name ||''; END LOOP; END DELETE_SEQUENCES;
-- EXEC DELETE_SEQUENCES;

-- Triggery i Sequence'ie
-- autoincrementacja http://ebanshi.cc/questions/1530335/hibernate-oracle-sequence-trigger
-- CREATE SEQUENCE TBL_USER_SEQ START WITH 1 INCREMENT BY 1;
-- CREATE SEQUENCE TBL_AUTHORITY_SEQ START WITH 1 INCREMENT BY 1;
-- CREATE SEQUENCE TBL_PRODUCT_SEQ START WITH 1 INCREMENT BY 1;
-- CREATE SEQUENCE TBL_PRODUCT_RATE_SEQ START WITH 1 INCREMENT BY 1;
-- CREATE SEQUENCE TBL_USER_ASSET_SEQ START WITH 1 INCREMENT BY 1;
-- CREATE SEQUENCE hibernate_sequence START WITH 1 INCREMENT BY 1;

-- CREATE OR REPLACE TRIGGER INC_TBL_USER_ID BEFORE INSERT ON TBL_USER FOR EACH ROW BEGIN :NEW.ID := TBL_USER_SEQ.NEXTVAL; END ;
-- CREATE OR REPLACE TRIGGER INC_TBL_AUTHORITY_ID BEFORE INSERT ON TBL_AUTHORITY FOR EACH ROW BEGIN :NEW.ID := TBL_AUTHORITY_SEQ.NEXTVAL; END;
-- CREATE OR REPLACE TRIGGER INC_TBL_PRODUCT_ID BEFORE INSERT ON TBL_PRODUCT FOR EACH ROW BEGIN :NEW.ID := TBL_PRODUCT_SEQ.NEXTVAL; END;
-- CREATE OR REPLACE TRIGGER INC_TBL_PRODUCT_RATE_ID BEFORE INSERT ON TBL_PRODUCT_RATE FOR EACH ROW BEGIN :NEW.ID := TBL_PRODUCT_RATE_SEQ.NEXTVAL;END;
-- CREATE OR REPLACE TRIGGER INC_TBL_USER_ASSET_ID BEFORE INSERT ON TBL_USER_ASSET FOR EACH ROW BEGIN :NEW.ID := TBL_USER_ASSET_SEQ.NEXTVAL; END;

-- Operacje dodawania użytkowników
INSERT INTO "TRADESYSTEM"."TBL_USER" (AMOUNT, CREATED, EMAIL, FIRST_NAME, LAST_LOGIN, LAST_NAME, PASSWORD) VALUES (25553.95, CURRENT_TIMESTAMP, 'k.mucik@gft.com', 'Kamil', CURRENT_TIMESTAMP, 'Mucik', 'haslo');
INSERT INTO "TRADESYSTEM"."TBL_USER" (AMOUNT, CREATED, EMAIL, FIRST_NAME, LAST_LOGIN, LAST_NAME, PASSWORD) VALUES (22.12, CURRENT_TIMESTAMP, 'k.mucik2@gft.com', 'Kamil', CURRENT_TIMESTAMP, 'Mucik', 'haslo2');
INSERT INTO "TRADESYSTEM"."TBL_USER" (AMOUNT, CREATED, EMAIL, FIRST_NAME, LAST_LOGIN, LAST_NAME, PASSWORD) VALUES (22.12, CURRENT_TIMESTAMP, 'k.mucik3@gft.com', 'Kamil', CURRENT_TIMESTAMP, 'Mucik', 'haslo2');
INSERT INTO "TRADESYSTEM"."TBL_USER" (AMOUNT, CREATED, EMAIL, FIRST_NAME, LAST_LOGIN, LAST_NAME, PASSWORD) VALUES (22.12, CURRENT_TIMESTAMP, 'k.mucik4@gft.com', 'Kamil', CURRENT_TIMESTAMP, 'Mucik', 'haslo2');

INSERT INTO "TRADESYSTEM"."TBL_AUTHORITY" (ID, NAME, ROLE) VALUES ('Administrator', 'admin');
INSERT INTO "TRADESYSTEM"."TBL_AUTHORITY" (ID, NAME, ROLE) VALUES ('Dealer', 'dealer');

INSERT INTO "TRADESYSTEM"."TBL_USER_AUTHORITY" (USER_ID, AUTHORITY_ID) VALUES (1, 1);
INSERT INTO "TRADESYSTEM"."TBL_USER_AUTHORITY" (USER_ID, AUTHORITY_ID) VALUES (1, 2);
INSERT INTO "TRADESYSTEM"."TBL_USER_AUTHORITY" (USER_ID, AUTHORITY_ID) VALUES (2, 2);

-- Operacje dodawania produktów
INSERT INTO "TRADESYSTEM"."TBL_PRODUCT" (ID, ENV_NAME, NAME) VALUES (1, 'gold', 'Gold');
INSERT INTO "TRADESYSTEM"."TBL_PRODUCT" (ID, ENV_NAME, NAME) VALUES (2, 'palladium', 'Palladium');
INSERT INTO "TRADESYSTEM"."TBL_PRODUCT" (ID, ENV_NAME, NAME) VALUES (3, 'platinum', 'Platinum');
INSERT INTO "TRADESYSTEM"."TBL_PRODUCT" (ID, ENV_NAME, NAME) VALUES (4, 'silver', 'Silver');
INSERT INTO "TRADESYSTEM"."TBL_PRODUCT" (ID, ENV_NAME, NAME) VALUES (5, 't-bill', 'T-Bill');
INSERT INTO "TRADESYSTEM"."TBL_PRODUCT" (ID, ENV_NAME, NAME) VALUES (6, 't-bond', 'T-Bond');
INSERT INTO "TRADESYSTEM"."TBL_PRODUCT" (ID, ENV_NAME, NAME) VALUES (7, 't-note', 'T-Note');

INSERT INTO "TRADESYSTEM"."TBL_PRODUCT_RATE" (CREATED, RATE, PRODUCT_ID) VALUES (CURRENT_TIMESTAMP - interval '15' minute, 1403.93, 1);
INSERT INTO "TRADESYSTEM"."TBL_PRODUCT_RATE" (CREATED, RATE, PRODUCT_ID) VALUES (CURRENT_TIMESTAMP, 1403.93, 1);
INSERT INTO "TRADESYSTEM"."TBL_PRODUCT_RATE" (CREATED, RATE, PRODUCT_ID) VALUES (CURRENT_TIMESTAMP - interval '15' minute, 563.55, 2);
INSERT INTO "TRADESYSTEM"."TBL_PRODUCT_RATE" (CREATED, RATE, PRODUCT_ID) VALUES (CURRENT_TIMESTAMP, 563.55, 2);
INSERT INTO "TRADESYSTEM"."TBL_PRODUCT_RATE" (CREATED, RATE, PRODUCT_ID) VALUES (CURRENT_TIMESTAMP - interval '15' minute, 970.50, 3);
INSERT INTO "TRADESYSTEM"."TBL_PRODUCT_RATE" (CREATED, RATE, PRODUCT_ID) VALUES (CURRENT_TIMESTAMP, 970.50, 3);
INSERT INTO "TRADESYSTEM"."TBL_PRODUCT_RATE" (CREATED, RATE, PRODUCT_ID) VALUES (CURRENT_TIMESTAMP - interval '15' minute, 570.64, 4);
INSERT INTO "TRADESYSTEM"."TBL_PRODUCT_RATE" (CREATED, RATE, PRODUCT_ID) VALUES (CURRENT_TIMESTAMP, 570.64, 4);
INSERT INTO "TRADESYSTEM"."TBL_PRODUCT_RATE" (CREATED, RATE, PRODUCT_ID) VALUES (CURRENT_TIMESTAMP, 9800.00, 5);
INSERT INTO "TRADESYSTEM"."TBL_PRODUCT_RATE" (CREATED, RATE, PRODUCT_ID) VALUES (CURRENT_TIMESTAMP, 103.44, 6);
INSERT INTO "TRADESYSTEM"."TBL_PRODUCT_RATE" (CREATED, RATE, PRODUCT_ID) VALUES (CURRENT_TIMESTAMP - interval '15' minute, 133.19, 7);
INSERT INTO "TRADESYSTEM"."TBL_PRODUCT_RATE" (CREATED, RATE, PRODUCT_ID) VALUES (CURRENT_TIMESTAMP, 133.19, 7);


INSERT INTO "TRADESYSTEM"."TBL_USER_ASSET" (DTYPE, CREATED, IS_DONE, PRICE, TRANSACTION_TYPE, VOLUME, CONTRACTOR_1_USER_ID, PRODUCT_ID) VALUES ('UserAsset', CURRENT_TIMESTAMP, 1, '1401,22', 'BUY', 50,  1, 1);
INSERT INTO "TRADESYSTEM"."TBL_USER_ASSET" (DTYPE, CREATED, IS_DONE, PRICE, TRANSACTION_TYPE, VOLUME, CONTRACTOR_1_USER_ID, PRODUCT_ID) VALUES ('UserAsset', CURRENT_TIMESTAMP, 1, '1001',    'BUY', 15,  1, 1);
INSERT INTO "TRADESYSTEM"."TBL_USER_ASSET" (DTYPE, CREATED, IS_DONE, PRICE, TRANSACTION_TYPE, VOLUME, CONTRACTOR_1_USER_ID, PRODUCT_ID) VALUES ('UserAsset', CURRENT_TIMESTAMP, 1, '105,21',  'BUY', 50,  1, 1);
INSERT INTO "TRADESYSTEM"."TBL_USER_ASSET" (DTYPE, CREATED, IS_DONE, PRICE, TRANSACTION_TYPE, VOLUME, CONTRACTOR_1_USER_ID, PRODUCT_ID) VALUES ('UserAsset', CURRENT_TIMESTAMP, 1, '569,89',  'BUY', 45,  1, 1);
INSERT INTO "TRADESYSTEM"."TBL_USER_ASSET" (DTYPE, CREATED, IS_DONE, PRICE, TRANSACTION_TYPE, VOLUME, CONTRACTOR_1_USER_ID, PRODUCT_ID) VALUES ('UserAsset', CURRENT_TIMESTAMP, 1, '950',     'BUY', 100, 1, 1);

INSERT INTO "TRADESYSTEM"."TBL_USER_ASSET" (DTYPE, CREATED, IS_DONE, PRICE, TRANSACTION_TYPE, VOLUME, CONTRACTOR_1_USER_ID, PRODUCT_ID) VALUES ('UserAsset', CURRENT_TIMESTAMP, 0, 1500, 'SALE', 2, 1, 1);
INSERT INTO "TRADESYSTEM"."TBL_USER_ASSET" (DTYPE, CREATED, IS_DONE, PRICE, TRANSACTION_TYPE, VOLUME, CONTRACTOR_1_USER_ID, PRODUCT_ID) VALUES ('UserAsset', CURRENT_TIMESTAMP, 0, 4, 'SALE', 25, 1, 1);
INSERT INTO "TRADESYSTEM"."TBL_USER_ASSET" (DTYPE, CREATED, IS_DONE, PRICE, TRANSACTION_TYPE, VOLUME, CONTRACTOR_1_USER_ID, PRODUCT_ID) VALUES ('UserAsset', CURRENT_TIMESTAMP, 0, 4500, 'BUY', 1, 1, 2);
INSERT INTO "TRADESYSTEM"."TBL_USER_ASSET" (DTYPE, CREATED, IS_DONE, PRICE, TRANSACTION_TYPE, VOLUME, CONTRACTOR_1_USER_ID, PRODUCT_ID) VALUES ('UserAsset', CURRENT_TIMESTAMP, 0, 5, 'BUY', 10, 1, 1);
INSERT INTO "TRADESYSTEM"."TBL_USER_ASSET" (DTYPE, CREATED, IS_DONE, PRICE, TRANSACTION_TYPE, VOLUME, CONTRACTOR_1_USER_ID, PRODUCT_ID) VALUES ('UserAsset', CURRENT_TIMESTAMP, 0, 970.5, 'SALE', 10, 1, 3);
INSERT INTO "TRADESYSTEM"."TBL_USER_ASSET" (DTYPE, CREATED, IS_DONE, PRICE, TRANSACTION_TYPE, VOLUME, CONTRACTOR_1_USER_ID, PRODUCT_ID) VALUES ('UserAsset', CURRENT_TIMESTAMP, 0, 200, 'BUY', 20, 1, 4);
INSERT INTO "TRADESYSTEM"."TBL_USER_ASSET" (DTYPE, CREATED, IS_DONE, PRICE, TRANSACTION_TYPE, VOLUME, CONTRACTOR_1_USER_ID, PRODUCT_ID) VALUES ('UserAsset', CURRENT_TIMESTAMP, 0, 98, 'SALE', 10, 1, 5);


-- Procedury
-- CREATE OR REPLACE PROCEDURE PROCEDURE3
-- (
--   PARAM1 IN NUMBER
-- , PARAM2 OUT NUMBER
-- ) AS
-- BEGIN
--   PARAM2 := PARAM1 + 1231 * SIN(1);
-- END PROCEDURE3;


-- Funkcje
-- CREATE OR REPLACE FUNCTION ECHO
-- (
--   PRODUCT_ID IN NUMBER DEFAULT 1
-- ) RETURN VARCHAR2 AS
-- BEGIN
--   RETURN 'Test';
-- END ECHO;


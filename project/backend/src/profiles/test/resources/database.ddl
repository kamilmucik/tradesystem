-- Generated by Oracle SQL Developer Data Modeler 4.1.3.901
--   at:        2016-09-22 11:04:06 CEST
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g




CREATE USER TRADESYSTEM IDENTIFIED BY ACCOUNT UNLOCK ;

CREATE TABLE TRADESYSTEM.TBL_AUTHORITY
  (
    ID   NUMBER (19) NOT NULL ,
    NAME VARCHAR2 (255 CHAR) NOT NULL ,
    ROLE VARCHAR2 (255 CHAR) NOT NULL
  )
  PCTFREE 10 PCTUSED 40 TABLESPACE SYSTEM LOGGING STORAGE
  (
    INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT
  ) ;
CREATE UNIQUE INDEX TRADESYSTEM.UK_4SOCKKKX1FLRASF7UUPU1KXOC ON TRADESYSTEM.TBL_AUTHORITY
  (
    NAME ASC
  )
  TABLESPACE SYSTEM PCTFREE 10 STORAGE
  (
    INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT
  )
  LOGGING ;
CREATE UNIQUE INDEX TRADESYSTEM.UK_FY940DEHFGARS7J4FYOR4Q16X ON TRADESYSTEM.TBL_AUTHORITY
  (
    ROLE ASC
  )
  TABLESPACE SYSTEM PCTFREE 10 STORAGE
  (
    INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT
  )
  LOGGING ;
ALTER TABLE TRADESYSTEM.TBL_AUTHORITY ADD CONSTRAINT TBL_AUTHORITY_PK PRIMARY KEY ( ID ) USING INDEX PCTFREE 10 INITRANS 2 TABLESPACE SYSTEM LOGGING STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT ) ;
ALTER TABLE TRADESYSTEM.TBL_AUTHORITY ADD CONSTRAINT UK_4SOCKKKX1FLRASF7UUPU1KXOC UNIQUE ( NAME ) USING INDEX TRADESYSTEM.UK_4SOCKKKX1FLRASF7UUPU1KXOC ;
ALTER TABLE TRADESYSTEM.TBL_AUTHORITY ADD CONSTRAINT UK_FY940DEHFGARS7J4FYOR4Q16X UNIQUE ( ROLE ) USING INDEX TRADESYSTEM.UK_FY940DEHFGARS7J4FYOR4Q16X ;


CREATE TABLE TRADESYSTEM.TBL_PRODUCT
  (
    ID       NUMBER (19) NOT NULL ,
    ENV_NAME VARCHAR2 (255 CHAR) NOT NULL ,
    NAME     VARCHAR2 (255 CHAR) NOT NULL
  )
  PCTFREE 10 PCTUSED 40 TABLESPACE SYSTEM LOGGING STORAGE
  (
    INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT
  ) ;
ALTER TABLE TRADESYSTEM.TBL_PRODUCT ADD CONSTRAINT TBL_PRODUCT_PK PRIMARY KEY ( ID ) USING INDEX PCTFREE 10 INITRANS 2 TABLESPACE SYSTEM LOGGING STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT ) ;


CREATE TABLE TRADESYSTEM.TBL_PRODUCT_RATE
  (
    ID         NUMBER (19) NOT NULL ,
    CREATED    TIMESTAMP NOT NULL ,
    RATE       NUMBER (19,2) NOT NULL ,
    PRODUCT_ID NUMBER (19) NOT NULL
  )
  PCTFREE 10 PCTUSED 40 TABLESPACE SYSTEM LOGGING STORAGE
  (
    INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT
  ) ;
ALTER TABLE TRADESYSTEM.TBL_PRODUCT_RATE ADD CONSTRAINT TBL_PRODUCT_RATE_PK PRIMARY KEY ( ID ) USING INDEX PCTFREE 10 INITRANS 2 TABLESPACE SYSTEM LOGGING STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT ) ;


CREATE TABLE TRADESYSTEM.TBL_USER
  (
    ID         NUMBER (19) NOT NULL ,
    AMOUNT     NUMBER (19,2) NOT NULL ,
    CREATED    TIMESTAMP NOT NULL ,
    EMAIL      VARCHAR2 (255 CHAR) NOT NULL ,
    FIRST_NAME VARCHAR2 (255 CHAR) NOT NULL ,
    LAST_LOGIN TIMESTAMP NOT NULL ,
    LAST_NAME  VARCHAR2 (255 CHAR) NOT NULL ,
    PASSWORD   VARCHAR2 (255 CHAR) NOT NULL
  )
  PCTFREE 10 PCTUSED 40 TABLESPACE SYSTEM LOGGING STORAGE
  (
    INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT
  ) ;
ALTER TABLE TRADESYSTEM.TBL_USER ADD CONSTRAINT TBL_USER_PK PRIMARY KEY ( ID ) USING INDEX PCTFREE 10 INITRANS 2 TABLESPACE SYSTEM LOGGING STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT ) ;


CREATE TABLE TRADESYSTEM.TBL_USER_ASSET
  (
    DTYPE                VARCHAR2 (31 CHAR) NOT NULL ,
    ID                   NUMBER (19) NOT NULL ,
    CREATED_DATE         TIMESTAMP ,
    IS_DONE              NUMBER (1) NOT NULL ,
    PRICE                NUMBER (19,2) NOT NULL ,
    TRANSACTION_TYPE     VARCHAR2 (255 CHAR) ,
    VOLUME               NUMBER (19) NOT NULL ,
    SEPARATED_DATE       TIMESTAMP ,
    CONTRACTOR_1_USER_ID NUMBER (19) NOT NULL ,
    CONTRACTOR_2_USER_ID NUMBER (19) ,
    PRODUCT_ID           NUMBER (19) ,
    USER_ASSET_ID        NUMBER (19)
  )
  PCTFREE 10 PCTUSED 40 TABLESPACE SYSTEM LOGGING STORAGE
  (
    INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT
  ) ;
ALTER TABLE TRADESYSTEM.TBL_USER_ASSET ADD CONSTRAINT TBL_USER_ASSET_PK PRIMARY KEY ( ID ) USING INDEX PCTFREE 10 INITRANS 2 TABLESPACE SYSTEM LOGGING STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT ) ;


CREATE TABLE TRADESYSTEM.TBL_USER_AUTHORITY
  (
    USER_ID      NUMBER (19) NOT NULL ,
    AUTHORITY_ID NUMBER (19) NOT NULL
  )
  PCTFREE 10 PCTUSED 40 TABLESPACE SYSTEM LOGGING STORAGE
  (
    INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT
  ) ;


ALTER TABLE TRADESYSTEM.TBL_USER_ASSET ADD CONSTRAINT FK_2DP5ITYG5O2FMDEOA8U0T5XT1 FOREIGN KEY ( PRODUCT_ID ) REFERENCES TRADESYSTEM.TBL_PRODUCT ( ID ) NOT DEFERRABLE ;

ALTER TABLE TRADESYSTEM.TBL_PRODUCT_RATE ADD CONSTRAINT FK_5HETY5GETA38GV0II6HNGUXXM FOREIGN KEY ( PRODUCT_ID ) REFERENCES TRADESYSTEM.TBL_PRODUCT ( ID ) NOT DEFERRABLE ;

ALTER TABLE TRADESYSTEM.TBL_USER_ASSET ADD CONSTRAINT FK_61KQSVX6PHO07JBWTQVAEHYCW FOREIGN KEY ( CONTRACTOR_2_USER_ID ) REFERENCES TRADESYSTEM.TBL_USER ( ID ) NOT DEFERRABLE ;

ALTER TABLE TRADESYSTEM.TBL_USER_ASSET ADD CONSTRAINT FK_EGJW8HUNB93OQ1U2L53REOB25 FOREIGN KEY ( CONTRACTOR_1_USER_ID ) REFERENCES TRADESYSTEM.TBL_USER ( ID ) NOT DEFERRABLE ;

ALTER TABLE TRADESYSTEM.TBL_USER_ASSET ADD CONSTRAINT FK_G2UOX2MMFCYGOS06SD545YO29 FOREIGN KEY ( USER_ASSET_ID ) REFERENCES TRADESYSTEM.TBL_USER_ASSET ( ID ) NOT DEFERRABLE ;

ALTER TABLE TRADESYSTEM.TBL_USER_AUTHORITY ADD CONSTRAINT FK_G8X44WBYWH3E958M2Q8B5L5MG FOREIGN KEY ( USER_ID ) REFERENCES TRADESYSTEM.TBL_USER ( ID ) NOT DEFERRABLE ;

ALTER TABLE TRADESYSTEM.TBL_USER_AUTHORITY ADD CONSTRAINT FK_IV32U4X12WYQQVUNHNU87CVA FOREIGN KEY ( AUTHORITY_ID ) REFERENCES TRADESYSTEM.TBL_AUTHORITY ( ID ) NOT DEFERRABLE ;


-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                             6
-- CREATE INDEX                             2
-- ALTER TABLE                             14
-- CREATE VIEW                              0
-- ALTER VIEW                               0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              1
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- REDACTION POLICY                         0
-- 
-- ORDS DROP SCHEMA                         0
-- ORDS ENABLE SCHEMA                       0
-- ORDS ENABLE OBJECT                       0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0
